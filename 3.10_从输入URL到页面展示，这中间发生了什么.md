## 浏览器是一个多进程架构：
浏览器主进程: 管理子进程、提供服务功能
渲染进程：将HTML、CSS、JS渲染成界面，js引擎v8和排版引擎Blink就在上面，他会为每一个tab页面创建一个渲染进程
GPU进程：本来是负责处理3D css的后来慢慢的UI界面也交给GPU来绘制
网络进程：就是负责网络请求，网络资源加载的进程
插件进程：负责插件的运行的，因为插件很容易崩溃，把它放到独立的进程里不要让它影响别人
### 导航阶段
1. 用户输入url,处理输入信息，主进程开始导航，交给网络进程干活
2. 网络进程发起网络请求，其中有可能会发生重定向
3. 服务器响应URL之后，主进程就要通知渲染进程，你要开始干活了
4. 渲染进程准备好了，要想渲染进程提交数据，这个时间叫做提交文档
5. 渲染进程接受到数据，完成页面渲染。
### 细节
#### 导航流程
当用户一输入完url,图标便立刻进入加载状态，但是页面状态不会变，等到提交文档才被替换
#### url请求
url输入完后，组件从通过进程通信，让网络进程去干活，他先看看是否存在本地缓存，如果有直接读取本地缓存，无则要DNS -> IP -> TCP
#### 每个tab页面一个渲染进程
有一些意外情况，会出现俩个tab也公用同一个渲染进程，就一个页面打开和他同域名同端口后的子页面，他们就会公用一个渲染进程
#### 提交文档
* 提交文档后，渲染进程和网络经常简历管道，读取响应消息体
* 渲染进程接受完消息后就会告诉浏览器进程，确认文档提交，这时候浏览器经常就会更新浏览器的界面、安全状态、url、前进后退的历史
### 渲染阶段
1. 浏览器无法直接读取html,需要先构建dom树
2. 把读取到的css,变成浏览器可以理解的cssom
3. css标准化，比如red -> rgba font-weigth:bold变成数值
4. 计算dom树的具体样式
5. 生成布局树，不不显示的去掉、把每个元素的信息计算出来
6. 生成分层树，页面都是一层一层叠加在一起形成的
7. 合成线程就会把分层树的图层变成图块
8. GPU的栅格化把视窗附近的图块变成位图，就是也渲染的最小粒度了，然后保存在GPu的进程种
9. 栅格化完成之后，浏览器进去去GPU进程里取出页面内容显示在屏幕上，这就完成了渲染阶段